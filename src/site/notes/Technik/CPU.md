---
{"dg-publish":true,"dg-path":"Tech/CPU.md","permalink":"/tech/cpu/","tags":["knowledge-base","german"],"created":"2025-06-17T19:43:07.671+02:00","updated":"2025-07-11T16:01:28.658+02:00"}
---

## Cache
<style> .container {font-family: sans-serif; text-align: center;} .button-wrapper button {z-index: 1;height: 40px; width: 100px; margin: 10px;padding: 5px;} .excalidraw .App-menu_top .buttonList { display: flex;} .excalidraw-wrapper { height: 800px; margin: 50px; position: relative;} :root[dir="ltr"] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left {transform: none;} </style><script src="https://cdn.jsdelivr.net/npm/react@17/umd/react.production.min.js"></script><script src="https://cdn.jsdelivr.net/npm/react-dom@17/umd/react-dom.production.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@excalidraw/excalidraw@0/dist/excalidraw.production.min.js"></script><div id="CPU_2025-06-16_1436.43.excalidraw.md1"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/2.10.1","elements":[{"id":"gyedlUdVOe1lWZESllevz","type":"rectangle","x":-143.25,"y":-442.4375,"width":217,"height":78.99999999999999,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"a0","roundness":null,"seed":611096473,"version":78,"versionNonce":1953808889,"isDeleted":false,"boundElements":[{"type":"text","id":"dOspa53y"}],"updated":1750077562181,"link":null,"locked":false},{"id":"dOspa53y","type":"text","x":-81.6899642944336,"y":-415.4375,"width":93.87992858886719,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"a0V","roundness":null,"seed":156604217,"version":55,"versionNonce":1462393655,"isDeleted":false,"boundElements":[],"updated":1750077562182,"link":null,"locked":false,"text":"CPU Core","rawText":"CPU Core","fontSize":20,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","containerId":"gyedlUdVOe1lWZESllevz","originalText":"CPU Core","autoResize":true,"lineHeight":1.25},{"id":"S8utcE7MmnPfNn26Nl0Si","type":"rectangle","x":-143.25,"y":-345.4375,"width":101,"height":90,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"a2","roundness":null,"seed":1138830039,"version":59,"versionNonce":2147282809,"isDeleted":false,"boundElements":[{"type":"text","id":"AzBfpRdT"},{"id":"dYwhU30RHy5B9_sKL3Ayv","type":"arrow"},{"id":"ARea4BZIirmaonP-X_aMK","type":"arrow"}],"updated":1750077617047,"link":null,"locked":false},{"id":"AzBfpRdT","type":"text","x":-125.1419906616211,"y":-320.4375,"width":64.78398132324219,"height":40,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"a3","roundness":null,"seed":15028025,"version":60,"versionNonce":1854474297,"isDeleted":false,"boundElements":[],"updated":1750077599328,"link":null,"locked":false,"text":"L1 Data\nCache","rawText":"L1 Data Cache","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","containerId":"S8utcE7MmnPfNn26Nl0Si","originalText":"L1 Data Cache","autoResize":true,"lineHeight":1.25},{"id":"LYD78UzUbNLhMDmeb95Rt","type":"rectangle","x":-25.75,"y":-344.4375,"width":101,"height":90,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"a4","roundness":null,"seed":688204601,"version":69,"versionNonce":1832294615,"isDeleted":false,"boundElements":[{"type":"text","id":"raExnH1H"},{"id":"JJNRNK3UJgMyrpl2tkI3P","type":"arrow"},{"id":"oNcnPcyIqsJQrExZY0I6b","type":"arrow"}],"updated":1750077627035,"link":null,"locked":false},{"id":"raExnH1H","type":"text","x":-18.64997100830078,"y":-329.4375,"width":86.79994201660156,"height":60,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"a5","roundness":null,"seed":831347737,"version":81,"versionNonce":195189561,"isDeleted":false,"boundElements":[],"updated":1750077601857,"link":null,"locked":false,"text":"L1\nInstruction\nCache","rawText":"L1 Instruction Cache","fontSize":16,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","containerId":"LYD78UzUbNLhMDmeb95Rt","originalText":"L1 Instruction Cache","autoResize":true,"lineHeight":1.25},{"id":"CNMSkJAJBPWmMGNK1Yanm","type":"rectangle","x":-142.25,"y":-229.4375,"width":217,"height":93,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"a6","roundness":null,"seed":2096011415,"version":37,"versionNonce":664313175,"isDeleted":false,"boundElements":[{"type":"text","id":"QCezkKEN"},{"id":"E58u8BQRQa45VZwZ2cRFp","type":"arrow"},{"id":"dYwhU30RHy5B9_sKL3Ayv","type":"arrow"},{"id":"JJNRNK3UJgMyrpl2tkI3P","type":"arrow"}],"updated":1750077592024,"link":null,"locked":false},{"id":"QCezkKEN","type":"text","x":-80.39997100830078,"y":-195.4375,"width":93.29994201660156,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"a6V","roundness":null,"seed":1491153113,"version":15,"versionNonce":1065838839,"isDeleted":false,"boundElements":[],"updated":1750077502249,"link":null,"locked":false,"text":"L2 Cache","rawText":"L2 Cache","fontSize":20,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","containerId":"CNMSkJAJBPWmMGNK1Yanm","originalText":"L2 Cache","autoResize":true,"lineHeight":1.25},{"id":"20VWaX8jbJAQoiouonA4_","type":"rectangle","x":-142.75,"y":-106.9375,"width":341,"height":93,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"a8","roundness":null,"seed":905737431,"version":80,"versionNonce":351346231,"isDeleted":false,"boundElements":[{"type":"text","id":"6Zo9cVhF"},{"id":"ioFtoWpYHoaxTMxAsnHhO","type":"arrow"},{"id":"E58u8BQRQa45VZwZ2cRFp","type":"arrow"},{"id":"4n95tARKb3p2sGvEk2tOU","type":"arrow"}],"updated":1750077724173,"link":null,"locked":false},{"id":"6Zo9cVhF","type":"text","x":-18.58997344970703,"y":-72.9375,"width":92.67994689941406,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"a9","roundness":null,"seed":1248182775,"version":67,"versionNonce":208744375,"isDeleted":false,"boundElements":[],"updated":1750077520963,"link":null,"locked":false,"text":"L3 Cache","rawText":"L3 Cache","fontSize":20,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","containerId":"20VWaX8jbJAQoiouonA4_","originalText":"L3 Cache","autoResize":true,"lineHeight":1.25},{"id":"-x_mZYHq3TxKctIOQluBv","type":"rectangle","x":-142.75,"y":13.0625,"width":341,"height":93,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"aA","roundness":null,"seed":1018238743,"version":102,"versionNonce":983526103,"isDeleted":false,"boundElements":[{"type":"text","id":"FtC5JPDC"},{"id":"B1gv1CCrE_u-i0wtkxpD0","type":"arrow"},{"id":"ioFtoWpYHoaxTMxAsnHhO","type":"arrow"}],"updated":1750077572113,"link":null,"locked":false},{"id":"FtC5JPDC","type":"text","x":-32.429954528808594,"y":47.0625,"width":120.35990905761719,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"aB","roundness":null,"seed":1321999415,"version":102,"versionNonce":501271351,"isDeleted":false,"boundElements":[],"updated":1750077528704,"link":null,"locked":false,"text":"Main Memory","rawText":"Main Memory","fontSize":20,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","containerId":"-x_mZYHq3TxKctIOQluBv","originalText":"Main Memory","autoResize":true,"lineHeight":1.25},{"id":"fRTk-vM9EkPsV9ObAsQd4","type":"rectangle","x":-141.75,"y":135.0625,"width":341,"height":93,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"aC","roundness":null,"seed":1479303831,"version":135,"versionNonce":947631225,"isDeleted":false,"boundElements":[{"type":"text","id":"2Fx6vIXo"},{"id":"B1gv1CCrE_u-i0wtkxpD0","type":"arrow"}],"updated":1750077566076,"link":null,"locked":false},{"id":"2Fx6vIXo","type":"text","x":-31.129966735839844,"y":169.0625,"width":119.75993347167969,"height":25,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"aD","roundness":null,"seed":64092087,"version":147,"versionNonce":1421674071,"isDeleted":false,"boundElements":[],"updated":1750077536854,"link":null,"locked":false,"text":"HDD / Swap","rawText":"HDD / Swap","fontSize":20,"fontFamily":1,"textAlign":"center","verticalAlign":"middle","containerId":"fRTk-vM9EkPsV9ObAsQd4","originalText":"HDD / Swap","autoResize":true,"lineHeight":1.25},{"id":"B1gv1CCrE_u-i0wtkxpD0","type":"arrow","x":25.75,"y":132.56249999999997,"width":3.552713678800501e-15,"height":24.999999999999957,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"aH","roundness":{"type":2},"seed":324548983,"version":18,"versionNonce":1278744473,"isDeleted":false,"boundElements":[],"updated":1750077718385,"link":null,"locked":false,"points":[[0,0],[-3.552713678800501e-15,-24.999999999999957]],"lastCommittedPoint":null,"startBinding":{"elementId":"fRTk-vM9EkPsV9ObAsQd4","focus":-0.017595307917888554,"gap":2.5},"endBinding":{"elementId":"-x_mZYHq3TxKctIOQluBv","focus":0.011730205278592377,"gap":1.5},"startArrowhead":null,"endArrowhead":"arrow","elbowed":false},{"id":"ioFtoWpYHoaxTMxAsnHhO","type":"arrow","x":27.75,"y":10.5625,"width":0,"height":22,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"aI","roundness":{"type":2},"seed":1987157751,"version":15,"versionNonce":893474489,"isDeleted":false,"boundElements":[],"updated":1750077718384,"link":null,"locked":false,"points":[[0,0],[0,-22]],"lastCommittedPoint":null,"startBinding":{"elementId":"-x_mZYHq3TxKctIOQluBv","focus":0,"gap":2.5},"endBinding":{"elementId":"20VWaX8jbJAQoiouonA4_","focus":0,"gap":2.5},"startArrowhead":null,"endArrowhead":"arrow","elbowed":false},{"id":"E58u8BQRQa45VZwZ2cRFp","type":"arrow","x":-36.25,"y":-109.4375,"width":2,"height":23,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"aJ","roundness":{"type":2},"seed":1160133817,"version":20,"versionNonce":1236566265,"isDeleted":false,"boundElements":[],"updated":1750077718383,"link":null,"locked":false,"points":[[0,0],[2,-23]],"lastCommittedPoint":null,"startBinding":{"elementId":"20VWaX8jbJAQoiouonA4_","focus":-0.39108232656619757,"gap":2.5},"endBinding":{"elementId":"CNMSkJAJBPWmMGNK1Yanm","focus":-0.034576009271779076,"gap":4},"startArrowhead":null,"endArrowhead":"arrow","elbowed":false},{"id":"dYwhU30RHy5B9_sKL3Ayv","type":"arrow","x":-94.01581074068753,"y":-233.43750000000003,"width":0.8594786715067215,"height":20,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"aK","roundness":{"type":2},"seed":1234092057,"version":85,"versionNonce":1512992345,"isDeleted":false,"boundElements":[],"updated":1750077718382,"link":null,"locked":false,"points":[[0,0],[0.8594786715067215,-20]],"lastCommittedPoint":null,"startBinding":{"elementId":"CNMSkJAJBPWmMGNK1Yanm","focus":-0.5650403781494566,"gap":4.000000000000028},"endBinding":{"elementId":"S8utcE7MmnPfNn26Nl0Si","focus":-0.03077102894901965,"gap":1.9999999999999716},"startArrowhead":null,"endArrowhead":"arrow","elbowed":false},{"id":"JJNRNK3UJgMyrpl2tkI3P","type":"arrow","x":29.76850917872352,"y":-230.4375,"width":1.5168620569681863,"height":19,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"aL","roundness":{"type":2},"seed":1878069177,"version":31,"versionNonce":1860254521,"isDeleted":false,"boundElements":[],"updated":1750077718383,"link":null,"locked":false,"points":[[0,0],[-1.5168620569681863,-19]],"lastCommittedPoint":null,"startBinding":{"elementId":"CNMSkJAJBPWmMGNK1Yanm","focus":0.60092717790226,"gap":1},"endBinding":{"elementId":"LYD78UzUbNLhMDmeb95Rt","focus":0.008789452656811287,"gap":5},"startArrowhead":null,"endArrowhead":"arrow","elbowed":false},{"id":"ARea4BZIirmaonP-X_aMK","type":"arrow","x":-96.24999999999991,"y":-346.4375,"width":14.999999999999915,"height":14,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"aM","roundness":{"type":2},"seed":1061032825,"version":63,"versionNonce":1431249625,"isDeleted":false,"boundElements":[],"updated":1750077718380,"link":null,"locked":false,"points":[[0,0],[14.999999999999915,-14]],"lastCommittedPoint":null,"startBinding":{"elementId":"S8utcE7MmnPfNn26Nl0Si","focus":-0.5347322720694645,"gap":1},"endBinding":null,"startArrowhead":null,"endArrowhead":"arrow","elbowed":false},{"id":"oNcnPcyIqsJQrExZY0I6b","type":"arrow","x":23.749999999999982,"y":-345.4375,"width":7.999999999999982,"height":17,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"aN","roundness":{"type":2},"seed":189441751,"version":31,"versionNonce":1111818393,"isDeleted":false,"boundElements":[],"updated":1750077718381,"link":null,"locked":false,"points":[[0,0],[-7.999999999999982,-17]],"lastCommittedPoint":null,"startBinding":{"elementId":"LYD78UzUbNLhMDmeb95Rt","focus":0.28805908904390654,"gap":1},"endBinding":null,"startArrowhead":null,"endArrowhead":"arrow","elbowed":false},{"id":"pLxvck75","type":"text","x":80.75,"y":-297.4375,"width":128.55990600585938,"height":20,"angle":4.71238898038469,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"aO","roundness":null,"seed":476679959,"version":79,"versionNonce":1188531767,"isDeleted":false,"boundElements":[],"updated":1750077655204,"link":null,"locked":false,"text":"... for each core","rawText":"... for each core","fontSize":16,"fontFamily":1,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"... for each core","autoResize":true,"lineHeight":1.25},{"id":"kLzeJ3CNIuaqWWI-R6GrB","type":"freedraw","x":149.75,"y":-360.4375,"width":27,"height":86,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":0.5,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"aR","roundness":null,"seed":1880993047,"version":45,"versionNonce":1280723737,"isDeleted":false,"boundElements":[],"updated":1750077672046,"link":null,"locked":false,"points":[[0,0],[0,-1],[0,-6],[0,-16],[0,-21],[0,-29],[0,-37],[0,-44],[0,-46],[0,-51],[0,-52],[0,-54],[0,-56],[0,-58],[0,-60],[0,-66],[0,-68],[0,-71],[0,-74],[0,-75],[-1,-76],[-1,-78],[-2,-79],[-3,-80],[-5,-82],[-6,-83],[-6,-84],[-8,-85],[-10,-85],[-12,-85],[-13,-86],[-15,-86],[-16,-86],[-17,-86],[-18,-86],[-19,-86],[-20,-86],[-21,-86],[-22,-86],[-23,-86],[-24,-86],[-26,-85],[-27,-85],[-27,-85]],"pressures":[],"simulatePressure":true,"lastCommittedPoint":null},{"id":"jf9pankU4FhTW64RaQ9B3","type":"freedraw","x":144.75,"y":-215.4375,"width":25,"height":82,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":0.5,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"aT","roundness":null,"seed":564681207,"version":43,"versionNonce":1741559641,"isDeleted":false,"boundElements":[],"updated":1750077679389,"link":null,"locked":false,"points":[[0,0],[0,1],[0,5],[0,7],[-1,10],[-1,19],[-1,22],[-1,25],[-1,26],[-1,29],[-1,31],[-1,37],[-1,39],[-1,40],[-1,45],[-1,48],[-1,50],[-1,56],[-1,59],[-1,62],[-1,66],[-2,68],[-2,71],[-2,72],[-3,73],[-3,75],[-4,76],[-5,78],[-7,79],[-8,80],[-9,81],[-10,81],[-12,82],[-13,82],[-14,82],[-17,82],[-20,82],[-21,81],[-23,81],[-24,80],[-25,80],[-25,80]],"pressures":[],"simulatePressure":true,"lastCommittedPoint":null},{"id":"4n95tARKb3p2sGvEk2tOU","type":"arrow","x":132.21893383625167,"y":-108.34266428472557,"width":0,"height":23.790573742127492,"angle":0,"strokeColor":"#1e1e1e","backgroundColor":"transparent","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":0,"opacity":100,"groupIds":[],"frameId":null,"index":"aU","roundness":{"type":2},"seed":1550040185,"version":29,"versionNonce":1286578233,"isDeleted":false,"boundElements":null,"updated":1750077730581,"link":null,"locked":false,"points":[[0,0],[0,-23.790573742127492]],"lastCommittedPoint":null,"startBinding":{"elementId":"20VWaX8jbJAQoiouonA4_","focus":0.6127210195674583,"gap":1.405164284725572},"endBinding":null,"startArrowhead":null,"endArrowhead":"arrow","elbowed":false}],"appState":{"theme":"dark","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#1e1e1e","currentItemBackgroundColor":"transparent","currentItemFillStyle":"solid","currentItemStrokeWidth":2,"currentItemStrokeStyle":"solid","currentItemRoughness":0,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":16,"currentItemTextAlign":"left","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","currentItemArrowType":"round","scrollX":224.36932486677279,"scrollY":464.1874675583085,"zoom":{"value":1.849472},"currentItemRoundness":"sharp","gridSize":20,"gridStep":5,"gridModeEnabled":false,"gridColor":{"Bold":"rgba(217, 217, 217, 0.5)","Regular":"rgba(230, 230, 230, 0.5)"},"currentStrokeOptions":null,"frameRendering":{"enabled":true,"clip":true,"name":true,"outline":true},"objectsSnapModeEnabled":false,"activeTool":{"type":"selection","customType":null,"locked":false,"fromSelection":false,"lastActiveTool":null}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("CPU_2025-06-16_1436.43.excalidraw.md1");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>
- Register <-> L1-Cache <-> L2(L3/L4)-Cache <-> Main memory (RAM)<->HDD (Swap)
	- L1-Cache oftmals unterteilt in "data" und "instruction cache"
	- L1 oftmals pro Core
	- L1: Größe bei aktuellen Prozessoren <100kB (pro Kern)
		- 5700X: 32KB, 9950X3D: 80KB
	- L2-Cache wird unter Windows "unified cache" genannt
	- L2 oftmals pro Core, manchmal geteilt mit mehreren Cores oder gesamter CPU
	- L2: Größe bei aktuellen Prozessoren < 1MB (pro Kern)
		- 5700X: 512KB, 9950X3D: 1MB
	- L3/L4 cache meist für gesamte CPU, Größe < 100MB
		- 5700X: 32MB, 9950X3D: 128MB
- Cache Line: Die CPU lädt immer 64 Bytes auf einmal in den L1 Cache
	- ESP32: 32 Bytes
	- ARM Cortex M0..4: kein Cache
	- ARM Cortex M7+: 32 Bytes
- Cache Miss: Programm fordert Daten an, welche nicht im L1+L2-Cache sind und daher aus dem RAM geladen werden müssen
- Viele Operationen sind schneller, als das Laden aus dem RAM -> Performance wird von Nutzung des Caches dominiert
	- [Gallery of Processor Cache Effects (igoro.com)](https://igoro.com/archive/gallery-of-processor-cache-effects/)
	- [Zen 1 timings](https://www.7-cpu.com/cpu/Zen.html)
		- L1 Cache: 4-5 cycles (1ns)
		- L2 Cache: 17 cycles (4-5ns)
		- L3 Cache: ~40 cycles (10ns)
		- RAM: 40 cycles + 90ns (100ns)
		- 1 Cycle ~ 0.25ns (@4GHz)
- (L1) Cache Aufbau 
	- https://youtu.be/rLWeHpzAYhg?feature=shared&t=1855
	- Cache funktioniert grundsätzlich wie hash table, wobei als key ein Teil der Speicheradresse genutzt wird
	- Cache Line ist 64 Bytes
	- Pointer-Adresse sind 64bit, von denen meist 48bit für Speicheradresse genutzt werden 
	- Speicheradressen sind virtuell und müssen übersetzt werden. Virtuell, damit bspw swap funktioniert.
	- Übersetzung läuft über anderen cache den Translation Lookaside Buffer. Dieser Cache mappt bei x64 12bit große "pages" (4096 Bytes) zwischen physischem und virtuellem Speicher.
	- 6 LSB eines pointers sind offset in cache line
	- 12 LSB sind offset in page
	- wir wollen nicht auf Übersetzung der Adresse warten. Daher läuft beides parallel. Cache access ist sehr schnell (<5 cycles)
	- zur Adressierung in Cache muss also Teil des pointers genutzt werden, welcher von Übersetzung nicht verändert wird = 12 LSB. 
	- unteren 6 bits davon helfen nicht, da sie nur offset in cache line sind und nicht zur Unterscheidung von cache lines helfen können.
	- Bleiben 6 bits übrig, was maximal 64 sets im Cache ergibt
	- Daten im cache sind entweder mit virtueller oder physischer Adresse getaggt.
	- nach Zugriff und paralleler Übersetzung wird überprüft, ob daten zu gewünschter Adresse gehören, da viele Speicherbereiche dieselben 12 LSB haben könnten 
	- Somit sind alle Adressen mit einem ähnlichen Bit-Aufbau immer im selben Set zu finden.
- Typischer Aufbau: N-way Associative Cache
	- es werden N cache lines pro cache set gespeichert, gleichzeitig abgerufen und dann verglichen (mit getaggter Adresse), ob richtige Daten dabei sind
	- größere Anzahl cache lines pro set bedeutet, dass mehr unterschiedliche Speicherbereiche mit gleicher bit Struktur im Cache Platz finden und Kollisionen verringert werden 
	- Beispiel Zen 4: 8-way Set, 64 sets, je line 64 Bytes also 8\*64\*64 Bytes = 32KByte (Architektur Limit)
	- Zen 5: 12-way = 48KByte
	- Beispiel Apple M1/M2: 12-way Set, jedes Set hat also 12 Plätze je 128 Bytes (eine L2-Cache Line) = 1,5KB pro Set = ~10.900 Sets bei 16MB Cache
	- Apple M-chips haben größere pages (64K)
## Pointers
- mindestens top 8 bits bei Intel und ARM Prozessoren sind nicht Teil der Speicheradresse (da unrealistisch großer Speicher benötigt werden würde), sondern können für andere Zwecke wie GC-flags genutzt werden. Meist werden nur 48bit für Speicheradresse genutzt 
	- https://youtu.be/uZEBkOrfUzM?feature=shared&t=908
## Assembly
https://uops.info/table.html
- Liste von Assembly Instructions für verschiedene CPU-Typen und ihre Eigenschaften (entnommen aus den ISA-Dokumenten der CPUs)
- Latency = Anzahl Clock Cycles für Operation
- TP (Throughput) = Anzahl Clock Cycles Wartezeit zwischen 2 Operationen (Wert < 1 = Mehrere Operationen pro Clock Cycle, bspw. 0.5 = 2 OPs/Cycle)
- Ports = Verfügbare Ports für Micro-OPs, Stern = Mehrere Micro-OPs auf denselben Ports, Plus = Mehrere Micro-OPs auf unterschiedlichen Ports (Bsp.: 3*p015+1*p23 = 3 µOps auf Port 0, 1 oder 5 und 1 µOp auf Port 2 oder 3)
https://godbolt.org/
- Zeigt Assembly für eingegebenen Programmcode und für verschiedene Architekturen und Compiler an
- Kann auch ESP32 und Co.
- Vergleich zwischen zwei Assembly möglich
- Mouse-Over erklärt Assembly Instruktionen
## Modulus (%)
[Language Performance Comparisons Are Junk](https://www.youtube.com/watch?v=RrHGX1wwSYM)
- Moderne CPUs haben keine schnelle Instruktion für Modulus-Operation (und keine SIMD-Instruktion)
- Modulus wird in äquivalente Instruktionen umgewandelt (z.B. Berechnung über Floats), welche ggf. mit SIMD beschleunigt werden können
-> Modulus mit zur Compile-Zeit unbekanntem Divisor ist für CPU sehr aufwändig, da diese Operation nicht umgewandelt werden kann

## Napkin Math
Cost of CPU operations: [Infographics: Operation Costs in CPU Clock Cycles - IT Hare on Soft.ware](http://ithare.com/infographics-operation-costs-in-cpu-clock-cycles/)

GitHub repo with programming related "ballpark" numbers: [GitHub - sirupsen/napkin-math: Techniques and numbers for estimating system's performance from first-principles](https://github.com/sirupsen/napkin-math)

Great visualization of latency numbers (with historical data): https://colin-scott.github.io/personal_website/research/interactive_latency.html